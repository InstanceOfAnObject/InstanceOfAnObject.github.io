<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>PubSub with jQuery</title>
  <meta name="description" content="What is PubSub?PubSub stands short for Publish/Subscriber and is a technique based on events that lets you decouple the logic of an application.When to use t...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://www.instanceofanobject.com/blog/2011/10/22/pubsub-with-jquery.html">
  <link rel="alternate" type="application/rss+xml" title="Instance Of An Object" href="http://www.instanceofanobject.com/feed.xml" />

  <link rel="stylesheet" href="/assets/images/autreplanete_icons/social_icons/CSS_sprite/css/apico-sprites.css" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">
      <img src="/assets/images/logo/logo-horizontal.png" alt="Instance Of An Object" />  
    </a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link " href="/">Home</a>
        <a class="page-link selected" href="/blog">Blog</a>
        <a class="page-link " href="/projects">Projects</a>
        <a class="page-link " href="/about">About</a>
        
          
          <!-- <a class="page-link" href="/404.html">Page not found</a> -->
          
        
          
          <!-- <a class="page-link" href="/about/">About</a> -->
          
        
          
          <!-- <a class="page-link" href="/blog/">Blog</a> -->
          
        
          
        
          
        
          
        
          
          <!-- <a class="page-link" href="/projects/">Projects</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/tools/index.html">Posts Tagged &ldquo;tools&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/c%23/index.html">Posts Tagged &ldquo;c#&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/logging/index.html">Posts Tagged &ldquo;logging&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/log4net/index.html">Posts Tagged &ldquo;log4net&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/nlog/index.html">Posts Tagged &ldquo;nlog&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/sql%20server/index.html">Posts Tagged &ldquo;sql server&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/hardware/index.html">Posts Tagged &ldquo;hardware&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/technology/index.html">Posts Tagged &ldquo;technology&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/browsers/index.html">Posts Tagged &ldquo;browsers&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/chrome/index.html">Posts Tagged &ldquo;chrome&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/windows/index.html">Posts Tagged &ldquo;windows&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/software/index.html">Posts Tagged &ldquo;software&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/css/index.html">Posts Tagged &ldquo;css&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/web%20development/index.html">Posts Tagged &ldquo;web development&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/database/index.html">Posts Tagged &ldquo;database&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/mono%20project/index.html">Posts Tagged &ldquo;mono project&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/android/index.html">Posts Tagged &ldquo;android&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/.net/index.html">Posts Tagged &ldquo;.net&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/entity%20framework/index.html">Posts Tagged &ldquo;entity framework&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/jquery/index.html">Posts Tagged &ldquo;jquery&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/jquery-ui/index.html">Posts Tagged &ldquo;jquery-ui&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/asp.net/index.html">Posts Tagged &ldquo;asp.net&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/javascript/index.html">Posts Tagged &ldquo;javascript&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/json/index.html">Posts Tagged &ldquo;json&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/jqgrid/index.html">Posts Tagged &ldquo;jqgrid&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/t-sql/index.html">Posts Tagged &ldquo;t-sql&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/ajax/index.html">Posts Tagged &ldquo;ajax&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/visual%20studio/index.html">Posts Tagged &ldquo;visual studio&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/tfs/index.html">Posts Tagged &ldquo;tfs&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/macros/index.html">Posts Tagged &ldquo;macros&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/routing/index.html">Posts Tagged &ldquo;routing&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/patterns/index.html">Posts Tagged &ldquo;patterns&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/forms%20authentication/index.html">Posts Tagged &ldquo;forms authentication&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/network/index.html">Posts Tagged &ldquo;network&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/ssrs/index.html">Posts Tagged &ldquo;ssrs&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/reporting/index.html">Posts Tagged &ldquo;reporting&rdquo;</a> -->
          
        
          
          <!-- <a class="page-link" href="/tag/jekyll/index.html">Posts Tagged &ldquo;jekyll&rdquo;</a> -->
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">PubSub with jQuery</h1>
    <div class="post-meta">
    	Oct 22, 2011

	    <ul class="tag_list">
	      
	      <li class="inline archive_list"><a class="tag_list_link" href="/tag/javascript">javascript</a></li>
	      
	      <li class="inline archive_list"><a class="tag_list_link" href="/tag/jquery">jquery</a></li>
	      
	      <li class="inline archive_list"><a class="tag_list_link" href="/tag/patterns">patterns</a></li>
	      
	    </ul>
    </div>

  </header>

  <article class="post-content">
    <h2 id="what-is-pubsub">What is PubSub?</h2>
<p>PubSub stands short for Publish/Subscriber and is a technique based on events that lets you decouple the logic of an application.</p>

<h2 id="when-to-use-this">When to use this?</h2>
<p>The short answer is: Whenever you want to decouple components.<br />
For instance, at the web UI level, sometimes sections of a webpage must communicate with each other, react on each other activities. To do this we usually have to make the sections aware of each other, making it much harder to maintain.<br />
Using Pub/Subs we just publish the events and forget about it, “someone” else on the page may make some use out of it.</p>

<h3 id="how-does-it-work">How does it work?</h3>
<p>The concept is pretty easy to understand and the implementation follows the simplicity.</p>

<p>The basic concept is to have something that triggers an event (the publisher) and have one or more listeners (the subscribers) that are waiting for that event to be fired to act appon, breaking strict dependencies between components.</p>

<h3 id="the-publisher">The Publisher</h3>
<p>This guy here (the publisher) usually reacts upon a user action and screams out loud:<br />
<strong>“I got something here, it’s called [myevent] and comes along with this extra information.<br />
Anyone interested?”</strong></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;myevent&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">age</span><span class="p">]);</span></code></pre></div>

<h3 id="the-subscriber">The Subscriber</h3>
<p>This guy (the subscriber) meaning in life is to wait for someone to say he got a [myevent].<br />
There can be as many guys as you want waiting for the same event, and each can react differently.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;myevent&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span> <span class="p">});</span></code></pre></div>

<h3 id="sample-code">Sample Code</h3>
<p>Bellow you find a piece of code that shows the functionality in action on a very simple scenario.<br />
Basically you have a textbox where you can enter numbers, meaning ages for the case.<br />
Every time you click on the publish button, an event is triggered, publishing a message that contains the typed age.<br />
Listening are two subscribers that want to be notified whenever that event is triggered.<br />
One of the subscribers only cares about ages bellow 18, the other one cares about everything else.</p>

<p>Create a new html file and paste this code there and show it on a browser. You’ll need internet connection as I’m using Google’s CDN to get JQuery.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
 <span class="nt">&lt;title&gt;</span>JQuery PubSub Demo<span class="nt">&lt;/title&gt;</span>
 <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
 
 <span class="nt">&lt;style </span><span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>
  <span class="nc">.Subscriber</span><span class="p">{</span> <span class="k">display</span><span class="o">:</span><span class="k">block</span><span class="p">;</span> <span class="k">list-style-type</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span> <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span> <span class="k">width</span><span class="o">:</span> <span class="m">200px</span><span class="p">;</span> <span class="k">border</span><span class="o">:</span> <span class="k">solid</span> <span class="m">1px</span> <span class="m">#dcdcdc</span><span class="p">;</span> <span class="k">margin</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span> <span class="k">padding</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span> <span class="p">}</span>
 <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;h2&gt;</span>Publisher<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;p&gt;</span>
 Publish: 
 <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;txtPublisherAge&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">value=</span><span class="s">&quot;publish&quot;</span> <span class="na">onclick=</span><span class="s">&#39;Publish($(&quot;#txtPublisherAge&quot;).val())&#39;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h2&gt;</span>Subscriber<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;ulLessThan18&quot;</span> <span class="na">class=</span><span class="s">&quot;Subscriber&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;ul18Plus&quot;</span> <span class="na">class=</span><span class="s">&quot;Subscriber&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

 <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="c1">// handle ages &lt; 18</span>
  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;myevent&#39;</span><span class="p">,</span> 
   <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#ulLessThan18&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;li&gt;Handled age: &#39;</span> <span class="o">+</span> <span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">);</span> 
    <span class="p">}</span>
   <span class="p">});</span>
   
  <span class="c1">// handle ages &gt;= 18</span>
  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;myevent&#39;</span><span class="p">,</span> 
   <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#ul18Plus&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;li&gt;Handled age: &#39;</span> <span class="o">+</span> <span class="nx">age</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">);</span> 
    <span class="p">}</span>
   <span class="p">});</span>
   
 <span class="p">});</span>

 <span class="c1">// Everytime this method is called, the &#39;myevent&#39; event is published with the passed age value</span>
 <span class="kd">function</span> <span class="nx">Publish</span><span class="p">(</span><span class="nx">age</span><span class="p">){</span>
  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;myevent&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">age</span><span class="p">]);</span>
 <span class="p">}</span>

<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div>

  </article>

  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'instanceofanobject';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Instance Of An Object</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Instance Of An Object</li>
          <li><a href="mailto:mail@alexcode.com">mail@alexcode.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/InstanceOfAnObject">
              <span class="apico-color apico-github"></span>GitHub
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/alexcode">
              <span class="apico-color apico-twitter"></span>Twitter
            </a>
          </li>
          
        </ul>
      </div>

      <!-- <div class="footer-col  footer-col-3">
        <p class="text">Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</p>
      </div> -->
    </div>

  </div>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68037427-1', 'auto');
  ga('send', 'pageview');
</script>

</footer>


  </body>

</html>
